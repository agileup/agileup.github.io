<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="agileup">
    <meta name="description" content="MK Style">
    <meta name="keywords" content="blog,developer,personal,note">

    <base href="https://agileup.github.io">
    <title>
  [NodeJS] deploy with Nginx and PM2 · agileup
</title>

    <link rel="canonical" href="https://agileup.github.io/posts/2015-01-19-nodejs-deploy-with-nginx-and-pm2/">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Nanum+Gothic:400,700|Nanum+Myeongjo:400,700&amp;subset=korean">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3/build/web/hack.css">
    <link rel="stylesheet" href="//cdn.rawgit.com/necolas/normalize.css/master/normalize.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <link rel="stylesheet" href="https://agileup.github.io/css/style.min.css">

    

    
      <link rel="stylesheet" href="https://agileup.github.io/css/custom.css">
    
      <link rel="stylesheet" href="https://agileup.github.io/css/syntax.css">
    

    <link rel="icon" type="image/png" href="https://agileup.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://agileup.github.io/images/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.42.2" />
  </head>

  <body class="">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://agileup.github.io">
      agileup
    </a>
    
    <ul class="navigation-list  float-right ">
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://agileup.github.io/posts/">Blog</a>
      </li>
      
      <li class="navigation-item">
        <a class="navigation-link" href="https://agileup.github.io/about/">About</a>
      </li>
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
  <article>
    <header>
      <h1 class="title">[NodeJS] deploy with Nginx and PM2</h1>
      <h2 class="date">January 19, 2015</h2>

      
    </header>

    <p>Tips</p>

<p>PM2 자체 버전업(<code>npm update -g pm2</code>)을 한 뒤 pm2로 등록한 모든 프로세스를 재시작할 경우 정확한 상황은 아직 판단이 안되지만 간혹 기존 프로세스가 죽지 않고 계속 살아서 결과적으로 동일한 프로세스가 2개 이상 포크되어 원하지 않는 동작을 유발할 수 있다. 따라서 업데이트 후에는 반드시 <code>pm2 updatePM2</code> 명령으로 직접 현재 메모리에 올라가 있는 pm2를 업데이트를 해주면 해결된다.</p>

<p>Reference</p>

<blockquote>
<p><a href="https://doesnotscale.com/deploying-node-js-with-pm2-and-nginx/">https://doesnotscale.com/deploying-node-js-with-pm2-and-nginx/</a></p>
</blockquote>

  </article>

  <br/>

  
      <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "agileup" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  
  
</section>

      </div>

      <footer class="footer">
  <section class="container">
       Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>. 
  </section>
</footer>

    </main>

    

  </body>

</html>
